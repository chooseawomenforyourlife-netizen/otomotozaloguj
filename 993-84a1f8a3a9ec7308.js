"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[993],{13858:function(e,n,t){t.d(n,{Z:function(){return t6}});var r,o,a,i,s,l,u,c,d,g,f,p,m,h,v,x,b,k,y,w,j,_,P,C,O,S,Z,E,L,q,A,R,T,M,I,Q,D,F,z,N,U,B,V,H,G,W,$,X,K,J,Y,ee,en,et,er,eo,ea,ei=t(71383),es=t(67294),el=t(86896),eu=t(11752),ec=t.n(eu),ed=t(11163),eg=t(15061),ef=t(40674),ep=t(40528),em=t(34231),eh=t(86019),ev=t(68907),ex=t(60361),eb=t(6611),ek=t(50029),ey=t(64687),ew=t.n(ey),ej=t(70917),e_={"@media (max-width: 900px)":{display:"none"}},eP=function(){var e=function(){var e=window.Baxter||{};e.queue=e.queue||[],window.Baxter||(window.Baxter=e),e.queue.push((0,ek.Z)(ew().mark(function n(){return ew().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.page("account",{}),n.next=3,null==e?void 0:e.set({},!0);case 3:case"end":return n.stop()}},n)})))};return(0,es.useEffect)(function(){e()},[]),(0,ej.jsx)("div",{className:"baxter-container baxter-placeholder--account--baxter-lp-box",css:e_,"data-testid":"baxter-container",id:"baxter-lp-box"})},eC=t(11630),eO=t(71393),eS=t(36864),eZ=t(59499),eE=t(87536),eL=t(44012),eq=t(68929),eA=t.n(eq),eR=t(47533),eT=t(79418),eM=t(78256),eI=t(58434),eQ=t(58122),eD=t(77820),eF=t(34047),ez=t(62857),eN=function(e){var n,t=ec()().flags;return!!t&&null!==(n=t[e])&&void 0!==n&&n},eU=(r=(0,ek.Z)(ew().mark(function e(n){var t,r,o,a=arguments;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:5e3,o=new Promise(function(e,n){r=setTimeout(function(){n(Error("Callback timeout"))},t)}),e.next=4,Promise.race([n,o]).then(function(e){return clearTimeout(r),e});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),eB=t(89149),eV=t(40652),eH=t(26731),eG=t(55941),eW=((o={}).Password="password",o.Username="username",o),e$=t(7258),eX=t(26699),eK=t(73115),eJ=t(776),eY=t(59299),e0=t(81228),e1=t(20239),e2=(a=(0,ek.Z)(ew().mark(function e(n,t){var r,o,a,i,s,l,u,c,d,g,f,p,m,h,v,x;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.username,o=n.password,a=n.client_id,i=n.redirect_uri,s=n.code_challenge,l=n.code_challenge_method,u=n.state,c=n.st,d=ec()().publicRuntimeConfig.authHost,g="https://".concat(d),f="".concat(d?g:"","/api/initiate-auth"),m=Array.from(p=new URLSearchParams((0,eb.C)({client_id:a,redirect_uri:i,code_challenge:s,code_challenge_method:l,state:u,st:c}))).length>0?"".concat(f,"?").concat(p):f,h=null,e.prev=9,e.next=12,eJ.C.getInstance({clientId:a});case 12:h=e.sent,e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(9),(0,eF.Nd)(Error("InitiateAuth: AWSCognitoService.getInstance"),{error:e.t0}),e.t0;case 19:v=null,e.prev=20,v=(x=h.generateFingerprint)&&x(r),e.next=29;break;case 25:throw e.prev=25,e.t1=e.catch(20),(0,eF.Nd)(Error("InitiateAuth: Fingerprint"),{error:e.t1}),e.t1;case 29:return e.abrupt("return",(0,eY.O)(m,{method:"POST",headers:{"Content-Type":"application/json","friction-token":t},credentials:"include",body:JSON.stringify({auth_parameters:{login:r.toLowerCase(),password:o},user_context_data:{encoded_data:v}})}).then(function(){var e=(0,ek.Z)(ew().mark(function e(n){var t,r;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.headers.get("content-type"))&&!t.includes("application/json"))){e.next=5;break}if(!n.headers.get("x-dd-b")){e.next=4;break}return e.abrupt("return",(0,e1.u)(n));case 4:return e.abrupt("return",(0,e0.u)(n));case 5:return e.next=7,n.json();case 7:if(r=e.sent,!(!n.ok||!r.location)){e.next=12;break}return e.abrupt("return",Promise.reject(r));case 12:return(0,eF.fg)("Initiate Auth"),e.abrupt("return",Promise.resolve(r.location));case 14:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()).catch(function(e){var n;throw(0,eF.qV)("login.fetch",null!==(n=null==e?void 0:e.message)&&void 0!==n?n:"error"),e}));case 30:case"end":return e.stop()}},e,null,[[9,15],[20,25]])})),function(e,n){return a.apply(this,arguments)}),e5=t(91307),e3=t(45960),e9=t(28645),e4=t(20635),e6=function(e,n){switch(n){case e9.$.Email:var t=e.lastIndexOf("@"),r=e.substring(0,1),o=e.substring(t+1,t+2);return"".concat(r,"***@").concat(o,"***");case e9.$.Sms:var a=e.substring(e.length-4);return"+********".concat(a)}},e8=t(25232),e7=t(86435),ne=t(47997),nn=t(95695);function nt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nt(Object(t),!0).forEach(function(n){(0,eZ.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nt(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var no=(i=(0,ek.Z)(ew().mark(function e(n,t,r){var o,a,i,s,l,u,c,d,g,f,p,m,h,v,x,b,k,y,w,j;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(a=n.query).client_id,l=void 0===(s=a.st)?"":s,u=n.push,c=r.frictionEnabled,d=r.getToken,g=r.setFrictionChallenge,f=r.frictionErrorMessage,p="resumeConfirmation.friction.getToken",!c){e.next=9;break}return e.next=7,(0,ne.J)(t,d,g,p,f,eQ.an.ForgotPassword);case 7:m=e.sent.tokenResponse;case 9:return h=m&&m.status===eQ.YF.Success?null===(o=m)||void 0===o?void 0:o.token:"",e.prev=10,e.next=13,(0,nn.g)({username:t,clientId:i,st:l},h);case 13:if(!(null!=(v=e.sent)&&v.is_resume_confirmation)){e.next=18;break}return k=(b=(x=v).code_delivery_details).destination,y=b.channel,w=x.username,u({pathname:eD.A.ResumeConfirmation,query:(0,eb.C)(nr(nr({},n.query),{destination:k,channel:y,username:(0,e8.E)(w),usernameFieldValue:(0,e8.E)(t)}))}),e.abrupt("return",!0);case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(10),(0,eF.qV)("resumeConfirmation.fetch",null!==(j=null===e.t0||void 0===e.t0?void 0:e.t0.message)&&void 0!==j?j:"error");case 23:return e.abrupt("return",!1);case 24:case"end":return e.stop()}},e,null,[[10,20]])})),function(e,n,t){return i.apply(this,arguments)}),na=t(8199),ni=t(65303),ns=t(83963),nl=function(e){eN("enable-datadome")&&na.LS("lastAction",e,5*ni.O.OneMinute)},nu=function(){return na.rV("lastAction")},nc=function(){na.cl("lastAction")},nd=t(81300),ng=t(84229),nf=t(64982),np=t(61683);function nm(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nh(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nm(Object(t),!0).forEach(function(n){(0,eZ.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var nv=eh.Z.form(f||(f=(0,ei.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),nx=eh.Z.div(p||(p=(0,ei.Z)(["\n  margin-top: ",";\n"])),ev.Lu.space.sm),nb=eh.Z.div(m||(m=(0,ei.Z)(["\n  margin-top: ",";\n  align-self: center;\n"])),ev.Lu.space.md),nk=(0,eh.Z)(eT.zx)(h||(h=(0,ei.Z)(["\n  align-self: flex-start;\n"]))),ny=(0,eh.Z)((0,eT.IK)(eT.zx))(v||(v=(0,ei.Z)(["\n  margin-top: ",";\n"])),ev.Lu.space.sm),nw=(0,eh.Z)(eM.P4)(x||(x=(0,ei.Z)(["\n  margin-top: ",";\n  margin-bottom: ",";\n  text-align: center;\n  ","\n"])),ev.Lu.space.lg,ev.Lu.space.xs,function(e){var n=e.theme;return"@media only screen and ".concat(n.mediaQueries.mdMin," { \n    padding-bottom: 20px;\n  }")}),nj=eh.Z.a(b||(b=(0,ei.Z)(["\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n  text-decoration: none;\n"])),function(e){return e.theme.fontSizes[12]},function(e){return e.theme.fontWeights[600]},function(e){return e.theme.colors["text-brand-primary"]}),n_=function(e){return(0,ej.jsx)("a",{href:(0,eB.L)("letUsKnow"),rel:"noopener noreferrer",target:"_blank"},e)},nP=function(e){var n=e.text,t=e.disabled,r=e.loading,o=(0,es.useState)(!1),a=o[0],i=o[1];return(0,es.useEffect)(function(){i(!0)},[]),(0,ej.jsx)(ny,{id:np.S.Login,"data-testid":"login-submit-button",disabled:!a||t,loading:r,type:"submit",variant:"primary"},n)},nC=function(){var e,n,t,r,o,a,i=(0,el.Z)(),s=(0,ed.useRouter)(),l=s.push,u=eN("enable-datadome"),c=(0,es.useMemo)(function(){return e$.Ry().shape({username:e$.Vo(function(e){return(0,eK.S)(i,e)}),password:(0,eX.CV)(i)})},[i]),d=(0,eE.cI)({mode:"all",resolver:(0,eR.X)(c)}),g=d.control,f=d.getValues,p=d.formState,m=p.isDirty,h=p.isValid,v=p.isSubmitting,x=d.handleSubmit,b=d.trigger,k=(0,es.useCallback)(function(e){var n=e.field,t=n.onBlur,r=n.onChange,o=n.value,a=e.fieldState,i=a.isTouched,s=a.invalid,l=a.error;return(0,ej.jsx)(eH.R,{error:l,invalid:s,isTouched:i,value:o,onChange:function(e){t(),r(e),b(eW.Username)}})},[b]),y=(0,es.useCallback)(function(e){var n=e.field,t=n.onBlur,r=n.onChange,o=n.value,a=e.fieldState,i=a.isTouched,s=a.invalid,l=a.error;return(0,ej.jsx)(eV.r,{autocomplete:"on",error:l,invalid:s,isTouched:i,value:o,onChange:function(e){t(),r(e),b(eW.Password)}})},[b]),w=ec()().serverRuntimeConfig,j=w.siteCode,_=w.friction,P=w.allowsResumeConfirmation,C=function(e,n){if(!e)return"";var t=e===e4.g.SecurityNotAllowed,r=O(e,void 0,t),o={link:n_,challengeId:n&&(0,eI.Z)(n)?n:void 0};return i.formatMessage(ex.P[r],o)},O=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=eA()(e),o="login.error.";return t?o="global.error.":n&&!n.includes("@")&&(o+="phone."),o+(Object.values(e4.g).includes(e)||Object.values(eG.$).includes(e)?r:"unknownParam")},S=function(e,n){if(!e)return"";var t=O(e,n);return i.formatMessage(ex.P[t],{link:n_})},Z=(0,es.useState)(C(null==s||null===(r=s.query)||void 0===r?void 0:r.error,(null==s||null===(o=s.query)||void 0===o?void 0:o.challenge)||(null==s||null===(a=s.query)||void 0===a?void 0:a.error_description))),E=Z[0],L=Z[1],q=(0,es.useState)(!!E),A=q[0],R=q[1],T=(0,es.useState)(!1),M=T[0],I=T[1],Q=(0,es.useRef)(null),D=(0,es.useState)(!1),F=D[0],z=D[1],N=(0,es.useState)(!1),U=N[0],B=N[1],V=(e=(0,ek.Z)(ew().mark(function e(){var n,t,r;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=10;break}if(t=null!==(n=nu())&&void 0!==n?n:np.S.Login,z(!1),t!==np.S.Login){e.next=7;break}null===(r=Q.current)||void 0===r||r.requestSubmit(),e.next=10;break;case 7:return B(!0),e.next=10,(0,nd.C)(s,t);case 10:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});(0,es.useEffect)(function(){V().then(function(){return nc()})},[F]);var H=(0,eQ.XS)(),G=H.getToken,W=H.isFrictionReady,$=(0,es.useState)(),X=$[0],K=$[1];(0,es.useEffect)(function(){var e=setTimeout(function(){var n=document.getElementById("__next");if(n){var t,r=null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n);r&&0==r.width&&0==r.height&&(eF.qV("login.WSOD","reload"),window.addEventListener("reload_white_page",function(){return window.location.reload()}),window.dispatchEvent(new Event("reload_white_page")),eF.Nd(Error("WSOD")))}clearTimeout(e)},500);eF.A1("ciam.login"),eF.qV("ciam.login","loaded")},[]),(0,es.useEffect)(function(){R(!!E),delete s.query.error},[E,s.query.error]);var J=(n=(0,ek.Z)(ew().mark(function e(n){var t,r,o,a,s,l,u,c,d,g,f,p,m,h,v,x,b,k,y,w,j,P,C,O;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o="ciam.login",eF.A1("ciam.login.submit.init"),a=isNaN(+n.username)?e9.$.Email:e9.$.Sms,F||(0,e3.uH)(e5.j.loginClick,{ciam_user_identifier_type:null==a?void 0:a.toLowerCase()}),""!=E&&L(""),l=(s=ec()().serverRuntimeConfig).countryPhonePrefix,u=s.allowsPhoneLogin,c=n.username,u&&a===e9.$.Sms&&(c=l.concat(n.username)),c=c.trim(),eF.qV("ciam.username",null!==(t=null===(r=window)||void 0===r?void 0:r.btoa(c))&&void 0!==t?t:"--"),eF.qV("ciam.username.type",isNaN(+c)?e9.$.Email:e9.$.Sms),eF.qT(o,"before friction"),_){e.next=17;break}eF.qV("login.friction","disabled"),eF.qT(o,"friction: disabled"),e.next=25;break;case 17:return g="login.friction.getToken",f=i.formatMessage(ex.P["global.error.generic.friction"]),eF.qT(o,"friction: before challenge"),e.next=22,(0,ne.J)(c,G,K,g,f,eQ.an.Login);case 22:d=e.sent.tokenResponse,eF.qT(o,"friction: after challenge");case 25:if(!(!_||d&&d.status===eQ.YF.Success)){e.next=61;break}return _&&(0,e3.uH)(e5.j.captchaSuccess,{ciam_user_identifier_type:null==a?void 0:a.toLowerCase()}),eF.qV("login.cookieEnabled",String(!!(null!==(p=window)&&void 0!==p&&null!==(p=p.navigator)&&void 0!==p&&p.cookieEnabled))),eF.qV("login.wafCookie",String((0,e7.GU)())),eF.qV("login.wafCookieContent",(0,e7.fp)()),eF.qV("login.wafTokenTimestamp",(0,e7.S2)()),e.prev=31,v=d&&d.status===eQ.YF.Success?null===(m=d)||void 0===m?void 0:m.token:"",eF.qT(o,"before initiateAuth"),nl(np.S.Login),x=e2(nh(nh({},n),{},{username:c}),v),e.next=38,eU(x,1e4);case 38:if(b=e.sent,eF.qV("ciam.wafIntegrationLoaded.after",null!==(h=window)&&void 0!==h&&h.AwsWafIntegration?"true":"false"),eF.qV("login.wafCookie.after",String((0,e7.GU)())),eF.qV("login.wafCookieContent.after",(0,e7.fp)()),eF.qT(o,"success on initiateAuth, start redirect"),eF.A1("ciam.login.submit.success"),!b){e.next=53;break}return I(!0),eF.qV("login.initiateAuth","success"),eF.qT(o,"success"),k=function(){window.location.assign(b)},(0,e3.uH)(e5.j.loginSuccess,{ciam_user_identifier_type:null==a?void 0:a.toLowerCase()}),k(),eF.qT(o,"success after redirect"),e.abrupt("return");case 53:e.next=59;break;case 55:return e.prev=55,e.t0=e.catch(31),e.next=59,Y(e.t0,c);case 59:e.next=62;break;case 61:_&&d&&(O=nh(nh({},d.failure),{},{error:null!==(y=d.failure)&&void 0!==y&&y.error?null===(w=d.failure.error)||void 0===w?void 0:w.message:""}),(null===(j=d)||void 0===j?void 0:j.status)===eQ.YF.Failure&&(null===(P=d.failure)||void 0===P?void 0:P.reason)===eQ.S9.Error&&eF.Nd(Error("Login Friction"),{error:O}),L(null===(C=d.failure)||void 0===C?void 0:C.message),(0,e3.uH)(e5.j.loginRejected,{ciam_error_reason:O.error,ciam_response:"Friction: ".concat(O.reason),ciam_user_identifier_type:null==a?void 0:a.toLowerCase()}),eF.qT(o,"friction "+eQ.YF.Failure));case 62:case"end":return e.stop()}},e,null,[[31,55]])})),function(e){return n.apply(this,arguments)}),Y=(t=(0,ek.Z)(ew().mark(function e(n,t){var r,o,a,u,c,d,g,f,p,m;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r="ciam.login.error",a=null!=(o=n||{error:"bodyError"})&&o.error?o.error:JSON.stringify(n,Object.getOwnPropertyNames(n)),eF.A1("ciam.login.submit.error"),eF.qT("error",a),eF.qT(r,"handleInitiateAuthError - init"),u=isNaN(+t)?e9.$.Email:e9.$.Sms,!(P&&a===e4.g.UserConfirmationRequired)){e.next=15;break}return eF.qT(r,"before handleResumeConfirmation"),e.next=11,no(s,t,{frictionEnabled:_,frictionErrorMessage:i.formatMessage(ex.P["global.error.generic.friction"]),getToken:G,setFrictionChallenge:K});case 11:return c=e.sent,eF.qT(r,"after handleResumeConfirmation"),c||L(i.formatMessage(ex.P["global.error.generic"])),e.abrupt("return");case 15:e.t0=a,e.next=e.t0===e4.g.UserConfirmationRequired?18:e.t0===e4.g.PasswordResetRequired?18:e.t0===e4.g.HighRiskLogin?20:e.t0===e4.g.Forbidden?23:e.t0===e4.g.UserDisabled?25:e.t0===e4.g.LimitExceeded?25:e.t0===eG.$.UserNotFound?27:e.t0===e4.g.ChallengeRequired?29:e.t0===e4.g.WafBlocked?32:e.t0===e4.g.DatadomeCheck?41:e.t0===e4.g.SecurityNotAllowed?44:47;break;case 18:return l({pathname:eD.A.PasswordReset,query:(0,eb.C)(nh(nh({},s.query),{},{username:(0,e8.E)(t),channel:u,destination:e6(t,u)}))}),e.abrupt("break",50);case 20:return na.LS(ni.s.HighRiskLogin,s.query,ni.O.OneDay),l({pathname:eD.A.SecurityFeedback,query:(0,eb.C)(nh(nh({},s.query),{},{destination:e6(t,u)}))}),e.abrupt("break",50);case 23:return L(C(a,void 0)),e.abrupt("break",50);case 25:return L(C(a)),e.abrupt("break",50);case 27:return L(S(a,t)),e.abrupt("break",50);case 29:return l({pathname:(null==(d=o.error_data)?void 0:d.name)!="SELECT_MFA_TYPE"?eD.A.Mfa:eD.A.MfaSelection,query:(0,eb.C)(nh(nh({},s.query),d))}),e.abrupt("break",50);case 32:return g=o.request_id,f=C(a),g&&(f+=" "+g),eF.qV("login.wafRequestId",null!=g?g:"n/a"),eF.qV("login.wafCookie.after",String((0,e7.GU)())),eF.qV("login.wafCookieContent.after",(0,e7.fp)()),eF.qT(r,"waf blocked end"),L(f),e.abrupt("break",50);case 41:return p=o.datadome_challenge_type,eF.qV("login.datadomeChallengeType",p),e.abrupt("break",50);case 44:return m=o.error_description,L(i.formatMessage(ex.P["global.error.securityNotAllowed"],{link:function(e){return n_(e)},challengeId:m})),e.abrupt("break",50);case 47:L(i.formatMessage(ex.P["global.error.generic"])),eF.qT(r,JSON.stringify(n)),eF.Nd(Error("handleInitiateAuthError"),{error:n});case 50:a!==e4.g.ChallengeRequired&&a!=e4.g.DatadomeCheck&&(0,e3.uH)(e5.j.loginRejected,{ciam_response:a,ciam_user_identifier_type:null==u?void 0:u.toLowerCase()});case 51:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}),ee=(0,es.useCallback)(function(e){(0,e3.uH)(e5.j.forgotPasswordClick),l({pathname:"/forgot-password",query:(0,eb.C)(nh(nh({},s.query),{},{username:(0,e8.E)(e.username)}))})},[l,s.query]),en=(0,es.useCallback)(function(){ee(f())},[ee,f]),et=(0,es.useCallback)(function(){L("")},[L]),er=(0,es.useMemo)(function(){return{readMore:(0,ej.jsx)(nj,{"data-testid":"terms-conditions-link",href:(0,eB.L)("termsAndConditions"),rel:"noopener noreferrer",target:"_blank"},(0,ej.jsx)(eL.Z,ex.P["login.termsAndConditions"]))}},[]);return(0,ej.jsx)(es.Fragment,null,U&&(0,ej.jsx)(ng.Z,null),(0,ej.jsx)(nv,{ref:Q,noValidate:!0,"data-testid":"login-form",method:"post",onKeyDown:function(e){""!=E&&e.code&&L("")},onSubmit:x(function(e){return J(nh(nh({},s.query),{},{password:e.password,username:e.username}))})},A&&(0,ej.jsx)(nf.H,{onDismiss:et},E),(0,ej.jsx)(eE.Qr,{control:g,name:eW.Username,render:k}),(0,ej.jsx)(nx,null,(0,ej.jsx)(eE.Qr,{control:g,name:eW.Password,render:y})),(0,ej.jsx)(nb,null,X),(0,ej.jsx)(nk,{size:"small",variant:(0,ez.p_)(j)?"tertiary":"flat",onClick:en},(0,ej.jsx)(eL.Z,ex.P["global.forgotPassword"])),(0,ej.jsx)(nP,{text:i.formatMessage(ex.P["global.logIn"]),disabled:m&&!h||!!X||!W,loading:M||v}),u&&(0,ej.jsx)(ns.ZP,{callback:function(){z(!0)}})),(0,ej.jsx)(nw,null,(0,ej.jsx)(eL.Z,(0,eS.Z)({},ex.P["login.terms.message"],{values:er}))))},nO=t(51586),nS=t(23357),nZ=((s={}).ConsentToOlxMessage="client_metadata.consentToOlxMessage",s.ConsentToOlxPhoneCall="client_metadata.consentToOlxPhoneCall",s.MarketingConsent="client_metadata.marketingConsent",s.Newsletter="client_metadata.newsletter_accepted",s),nE=(0,eh.Z)(eM.P4)(k||(k=(0,ei.Z)(["\n  line-height: ",";\n  margin-top: ",";\n  margin-bottom: 1em;\n"])),function(e){return e.theme.lineHeights[18]},ev.Lu.space.xxs),nL=eh.Z.a(y||(y=(0,ei.Z)(["\n  font-weight: ",";\n  color: ",";\n  text-decoration: none;\n"])),function(e){return e.theme.fontWeights[600]},function(e){return e.theme.colors["text-brand-primary"]}),nq={name:"14s76fx",styles:"svg path[fill-rule='evenodd']{fill:#000!important;}"},nA=eh.Z.div(w||(w=(0,ei.Z)(["\n  padding-top: ",";\n\n  ","\n  label {\n    & p {\n      line-height: ",";\n    }\n\n    & .n-checkbox-label-text-wrapper {\n      margin-top: -2px;\n    }\n  }\n"])),ev.Lu.space.xxs,function(){return"OLX-dark"==ev.zw&&nq},function(e){return e.theme.lineHeights[18]}),nR=function(){var e=(0,el.Z)(),n=(0,eE.Gc)().control,t=(0,es.useRef)(null),r=ec()().serverRuntimeConfig.allowsPhoneLogin,o=(0,ej.jsx)(eL.Z,(0,eS.Z)({},ex.P["register.termsMessage"],{values:{readMore:(0,ej.jsx)(nL,{"data-testid":"terms-of-use",href:(0,eB.L)("termsAndConditions"),rel:"noopener noreferrer",target:"_blank"},(0,ej.jsx)(eL.Z,ex.P["register.termsAndConditions"]))}})),a=r?(0,ej.jsx)(es.Fragment,null):(0,ej.jsx)(eL.Z,(0,eS.Z)({},ex.P["register.policyMessage"],{values:{policyLink:(0,ej.jsx)(nL,{"data-testid":"terms-conditions-policy",href:(0,eB.L)("privacyPolicy"),rel:"noopener noreferrer",target:"_blank"},(0,ej.jsx)(eL.Z,ex.P["register.policyLinkLabel"])),policyCookiesLink:(0,ej.jsx)(nL,{"data-testid":"terms-conditions-cookies",href:(0,eB.L)("cookiesPolicy"),rel:"noopener noreferrer",target:"_blank"},(0,ej.jsx)(eL.Z,ex.P["register.policyCookiesLinkLabel"]))}}));return(0,ej.jsx)("div",{"data-testid":"olx-legal-fields"},(0,ej.jsx)(nE,null,o),(0,ej.jsx)(nE,null,a),(0,ej.jsx)(eE.Qr,{control:n,defaultValue:!1,name:nZ.Newsletter,render:function(n){var r=n.field,o=r.onChange,a=r.value;return(0,ej.jsx)(nA,null,(0,ej.jsx)(nS.ke,{htmlFor:"user-consent"},(0,ej.jsx)(nS.I0,{ref:t,checked:a,id:"user-consent",onChange:o}),(0,ej.jsx)(eM.P4,null,e.formatMessage(ex.P["register.newsletter.marketingAgreementMessage"]))))}}))},nT=t(92045),nM={name:"14s76fx",styles:"svg path[fill-rule='evenodd']{fill:#000!important;}"},nI=nT.zo.div(j||(j=(0,ei.Z)(["\n  padding-top: ",";\n\n  ","\n  label {\n    & p {\n      line-height: ",";\n    }\n\n    & .n-checkbox-label-text-wrapper {\n      margin-top: -2px;\n    }\n  }\n"])),ev.Lu.space.xxs,function(){return"OLX-dark"==ev.zw&&nM},function(e){return e.theme.lineHeights[18]}),nQ=function(){var e=(0,el.Z)(),n=(0,eE.Gc)().control,t=(0,es.useRef)(null);return(0,ej.jsx)(eE.Qr,{control:n,defaultValue:!1,name:nZ.MarketingConsent,render:function(n){var r=n.field,o=r.onChange,a=r.value;return(0,ej.jsx)(nI,null,(0,ej.jsx)(nS.ke,{htmlFor:"user-consent"},(0,ej.jsx)(nS.I0,{ref:t,checked:a,id:"user-consent",onChange:o}),(0,ej.jsx)(eM.P4,null,e.formatMessage(ex.P["register.newsletter.marketingAgreementMessage"]))))}})},nD=t(33200),nF=nT.zo.div(_||(_=(0,ei.Z)(["\n  padding-top: ",";\n  margin-left: ",";\n  gap: ",";\n  margin-bottom: ",";\n  display: grid;\n"])),ev.Lu.space.md,ev.Lu.space.xl,ev.Lu.space.sm,ev.Lu.space.sm),nz=(0,nT.zo)(eM.P4)(P||(P=(0,ei.Z)(["\n  margin-top: ",";\n  margin-bottom: ",";\n  line-height: ",";\n  color: ",";\n"])),ev.Lu.space.xxs,ev.Lu.space.sm,function(e){return e.theme.lineHeights[18]},function(e){return e.theme.colors["text-global-secondary"]}),nN=nT.zo.div(C||(C=(0,ei.Z)(["\n  margin-top: ",";\n\n  > svg {\n    margin-top: ",";\n  }\n\n  > span:first-of-type {\n    font-size: ",";\n    color: ",";\n    line-height: ",";\n  }\n\n  label {\n    & p {\n      line-height: ",";\n    }\n\n    & .n-checkbox-label-text-wrapper {\n      margin-top: -2px;\n    }\n  }\n"])),ev.Lu.space.xxs,ev.Lu.space.xxs,function(e){return e.theme.fontSizes[12]},function(e){return e.theme.colors["text-global-secondary"]},function(e){return e.theme.lineHeights[18]},function(e){return e.theme.lineHeights[18]}),nU=nT.zo.a(O||(O=(0,ei.Z)(["\n  text-decoration: none;\n  appearance: unset;\n  display: block;\n\n  ","\n"])),function(e){var n=e.theme;return"\n    color: ".concat(n.colors["text-brand-primary"],";\n    font-size: ").concat(n.fontSizes.p5,";\n    font-weight: ").concat(n.fontWeights[500],";\n    line-height: ").concat(n.fontSizes.p3,";\n    min-height: auto;\n    display: inline-flex;\n\n    > span {\n        font-size: ").concat(n.fontSizes.p5,";\n    }\n  ")}),nB=(0,nT.zo)(nD.default)(S||(S=(0,ei.Z)(["\n  ","\n"])),function(e){var n=e.expand;return"\n    transition: transform 0.5s;\n    transform: ".concat(n?"rotate(180deg);":"rotate(0deg);","\n    vertical-align: top;\n  ")}),nV=function(){var e=(0,el.Z)(),n=(0,es.useState)(!1),t=n[0],r=n[1],o=(0,es.useRef)(null),a=(0,es.useRef)(null),i=(0,es.useRef)(null),s=(0,eE.Gc)(),l=s.setValue,u=s.control,c=function(e){null==e||e.preventDefault(),null==e||e.stopPropagation(),r(!t)},d=function(e,n,t){e===nZ.MarketingConsent&&(r(!0),l(nZ.ConsentToOlxMessage,t,{shouldTouch:!0,shouldValidate:!0}),l(nZ.ConsentToOlxPhoneCall,t)),n(t)};return(0,ej.jsx)(es.Fragment,null,(0,ej.jsx)(eE.Qr,{control:u,defaultValue:!1,name:nZ.MarketingConsent,render:function(n){var r=n.field,a=r.onChange,i=r.value;return(0,ej.jsx)(nN,null,(0,ej.jsx)(nS.ke,{htmlFor:"consents"},(0,ej.jsx)(nS.I0,{ref:o,id:"consents",value:i,onChange:function(){return d(nZ.MarketingConsent,a,!i)}}),(0,ej.jsx)(eM.P4,null,e.formatMessage(ex.P["register.newsletter.marketingAgreementMessage"],{expandMore:(0,ej.jsx)(nU,{color:"text-brand-primary","data-testid":"link-expand-checkboxes",href:"#",onClick:c},e.formatMessage(ex.P["register.adjustConsents"]),(0,ej.jsx)(nB,{color:"icon-brand-primary",expand:t||!1,ml:4,size:"icon-small"}))}))))}}),t?(0,ej.jsx)(es.Fragment,null,(0,ej.jsx)(nF,null,(0,ej.jsx)("img",{alt:"Logo Otomoto and OLX",src:"/images/Motors/logo-otomoto-and-olx.jpg"}),(0,ej.jsx)(nz,null,e.formatMessage(ex.P["register.otomotoAndOlx"]))),(0,ej.jsx)(eE.Qr,{control:u,defaultValue:!1,name:nZ.ConsentToOlxPhoneCall,render:function(n){var t=n.field,r=t.onChange,o=t.value;return(0,ej.jsx)(nN,null,(0,ej.jsx)(nS.ke,{htmlFor:"phone-channel"},(0,ej.jsx)(nS.I0,{ref:a,checked:o,id:"phone-channel",onChange:function(){d(nZ.ConsentToOlxPhoneCall,r,!o)}}),(0,ej.jsx)(eM.P4,null,e.formatMessage(ex.P["register.phoneChannel"]))))}}),(0,ej.jsx)(eE.Qr,{control:u,defaultValue:!1,name:nZ.ConsentToOlxMessage,render:function(n){var t=n.field,r=t.onChange,o=t.value;return(0,ej.jsx)(nN,null,(0,ej.jsx)(nS.ke,{htmlFor:"text-channel"},(0,ej.jsx)(nS.I0,{ref:i,checked:o,id:"text-channel",onChange:function(){return d(nZ.ConsentToOlxMessage,r,!o)}}),(0,ej.jsx)(eM.P4,null,e.formatMessage(ex.P["register.textChannel"]))))}})):null)},nH=function(){var e;return(null===(e=ec()())||void 0===e||null===(e=e.serverRuntimeConfig)||void 0===e?void 0:e.siteCode)===nO.Q.Otomoto?(0,ej.jsx)(nV,null):(0,ej.jsx)(nQ,null)},nG=(0,nT.zo)(eM.P4)(Z||(Z=(0,ei.Z)(["\n  margin-top: ",";\n  line-height: ",";\n  color: ",";\n  padding-top: 0;\n  margin-bottom: 12px;\n"])),ev.Lu.space.xxs,function(e){return e.theme.lineHeights[18]},function(e){return e.theme.colors["text-global-secondary"]}),nW=nT.zo.a(E||(E=(0,ei.Z)(["\n  color: ",";\n  text-decoration: none;\n"])),function(e){return e.theme.colors["text-brand-primary"]}),n$=function(){return(0,ej.jsx)(eL.Z,(0,eS.Z)({},ex.P["register.termsMessage"],{values:{br:(0,ej.jsx)("br",null),regulations:(0,ej.jsx)(nW,{"data-testid":"terms-of-use",href:(0,eB.L)("termsAndConditions"),rel:"noopener noreferrer",target:"_blank"},(0,ej.jsx)(eL.Z,ex.P["register.termsAndConditions"])),privacyPolicy:(0,ej.jsx)(nW,{"data-testid":"privacy-policy",href:(0,eB.L)("privacyPolicy"),rel:"noopener noreferrer",target:"_blank"},(0,ej.jsx)(eL.Z,ex.P["register.policyLinkLabel"])),cookiesPolicy:(0,ej.jsx)(nW,{"data-testid":"cookies-policy",href:(0,eB.L)("cookiesPolicy"),rel:"noopener noreferrer",target:"_blank"},(0,ej.jsx)(eL.Z,ex.P["register.policyCookiesLinkLabel"]))}}))},nX=function(){return(0,ej.jsx)("div",{"data-testid":"motors-legal-fields"},(0,ej.jsx)(nG,null,(0,ej.jsx)(n$,null)),(0,ej.jsx)(nH,null))},nK=function(){var e;switch(null===(e=ec()())||void 0===e||null===(e=e.serverRuntimeConfig)||void 0===e?void 0:e.siteCode){case nO.Q.Autovit:case nO.Q.Otomoto:case nO.Q.CarsPt:return(0,ej.jsx)(nX,null);default:return(0,ej.jsx)(nR,null)}},nJ=((l={}).Password="password",l.Username="username",l),nY=((u={}).InvalidPassword="invalid_password",u.InvalidPhoneNumber="invalid_phone_number",u.InvalidUsername="invalid_username",u.NotAllowedPhoneNumber="not_allowed_phone_number",u.PhoneNumberBanned="phone_number_banned",u.PhoneNumberBlocked="phone_number_blocked",u.UserAlreadyExists="user_already_exists",u.UserBlacklisted="user_blacklisted",u.UserIsBanned="user_is_banned",u.UserIsDeleted="user_is_deleted",u.WafBlocked="waf_blocked",u.WeakPassword="weak_password",u),n0=t(84215),n1=(c=(0,ek.Z)(ew().mark(function e(n,t){var r,o,a,i,s,l,u,c,d,g,f,p,m,h,v;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.username,o=n.password,a=n.client_id,i=n.client_metadata,s=n.lang,l=n.st,u=ec()().publicRuntimeConfig.authHost,c="https://".concat(u),d="".concat(u?c:"","/api/registration"),f=Array.from(g=new URLSearchParams((0,eb.C)({client_id:a,lang:s,st:l}))).length>0?"".concat(d,"?").concat(g):d,p=null,e.prev=9,e.next=12,eJ.C.getInstance({clientId:a});case 12:p=e.sent,e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(9),(0,eF.Nd)(Error("sendRegistration: AWSCognitoService.getInstance"),{error:e.t0}),e.t0;case 19:m=null,e.prev=20,m=(h=p.generateFingerprint)&&h(r),e.next=29;break;case 25:throw e.prev=25,e.t1=e.catch(20),(0,eF.Nd)(Error("sendRegistration: Fingerprint"),{error:e.t1}),e.t1;case 29:return v=(0,n0.c)(s),e.abrupt("return",(0,eY.O)(f,{method:"POST",headers:{"Content-Type":"application/json","friction-token":t},credentials:"same-origin",body:JSON.stringify({username:r.toLowerCase(),password:o,client_metadata:i,language:"uz"===v?"oz":v,user_context_data:{encoded_data:m}})}).then(function(){var e=(0,ek.Z)(ew().mark(function e(n){var t;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!("application/json"!==n.headers.get("content-type"))){e.next=4;break}if(!n.headers.get("x-dd-b")){e.next=3;break}return e.abrupt("return",(0,e1.u)(n));case 3:return e.abrupt("return",(0,e0.u)(n));case 4:return e.next=6,n.json();case 6:if(t=e.sent,n.ok){e.next=11;break}return e.abrupt("return",Promise.reject(t));case 11:return(0,eF.fg)("Send Registration"),e.abrupt("return",Promise.resolve(t));case 13:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()).catch(function(e){var n;throw(0,eF.qV)("registration.fetch",null!==(n=null==e?void 0:e.message)&&void 0!==n?n:"error"),e}));case 31:case"end":return e.stop()}},e,null,[[9,15],[20,25]])})),function(e,n){return c.apply(this,arguments)}),n2=t(64903);function n5(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function n3(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?n5(Object(t),!0).forEach(function(n){(0,eZ.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n5(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var n9=eh.Z.form(L||(L=(0,ei.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: ",";\n"])),ev.Lu.space.md),n4=eh.Z.div(q||(q=(0,ei.Z)(["\n    margin-top: "," !important;\n}\n"])),ev.Lu.space.sm),n6=eh.Z.div(A||(A=(0,ei.Z)(["\n  margin-top: ",";\n  margin-bottom: ",";\n  align-self: center;\n"])),function(e){return e.theme.space[24]},function(e){return e.theme.space[8]}),n8=(0,eh.Z)((0,eT.IK)(eT.zx))(R||(R=(0,ei.Z)(["\n  margin-top: ",";\n"])),ev.Lu.space.lg),n7=function(e){return(0,ej.jsx)("a",{href:(0,eB.L)("letUsKnow"),rel:"noopener noreferrer",target:"_blank"},e)},te=function(e){return(0,ej.jsx)("a",{href:(0,eB.L)("termsAndConditions"),rel:"noopener noreferrer",target:"_blank"},e)},tn=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";n.push({pathname:e,query:(0,eb.C)(n3({username:(0,e8.E)(null!=t?t:"")},n.query))})},tt=function(e,n,t){return(0,ej.jsx)(eT.zx,(0,eS.Z)({"data-testid":"reset-password-btn"},{variant:"tertiary",onClick:function(){(0,e3.uH)(e5.j.forgotPasswordClick,{ciam_response:"registration_page"}),tn(eD.A.ForgotPassword,n,t)},size:"small"}),e)},tr=function(e,n,t){return[(0,ej.jsx)(eT.zx,{key:"friction-reset-password-flow","data-testid":"friction-reset-password-flow",size:"small",variant:"tertiary",onClick:function(){(0,e3.uH)(e5.j.forgotPasswordClick,{ciam_response:"suspicious_activity"}),tn(eD.A.ForgotPassword,n,t)}},e.formatMessage(ex.P["global.resetPassword"])),(0,ej.jsx)(eT.zx,{key:"friction-login-flow","data-testid":"friction-login-flow",size:"small",variant:"tertiary",onClick:function(){(0,e3.uH)(e5.j.redirectUserToLoginClick,{ciam_response:"suspicious_activity"}),tn(eD.A.Login,n)}},e.formatMessage(ex.P["global.logIn"]))]},to="",ta=function(e){var n=e.text,t=e.disabled,r=e.loading,o=(0,es.useState)(!1),a=o[0],i=o[1];return(0,es.useEffect)(function(){i(!0)},[]),(0,ej.jsx)(n8,{id:np.S.Register,"data-testid":"register-button",disabled:!a||t,loading:r,type:"submit",variant:"primary"},n)},ti=function(){var e,n,t,r,o,a=(0,el.Z)(),i=(0,ed.useRouter)(),s=i.push,l=eN("enable-datadome"),u=i.query,c=u.client_id,d=u.code_challenge,g=u.code_challenge_method,f=u.redirect_uri,p=u.state,m=(0,es.useState)(!1),h=m[0],v=m[1],x=(0,es.useState)(!1),b=x[0],k=x[1],y=(0,es.useRef)(null),w=(0,es.useState)(!1),j=w[0],_=w[1],P=(0,es.useState)(!1),C=P[0],O=P[1],S=(e=(0,ek.Z)(ew().mark(function e(){var n,t,r;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!j){e.next=10;break}if(t=null!==(n=nu())&&void 0!==n?n:np.S.Register,_(!1),t!==np.S.Register){e.next=7;break}null===(r=y.current)||void 0===r||r.requestSubmit(),e.next=10;break;case 7:return O(!0),e.next=10,(0,nd.C)(i,t);case 10:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)});(0,es.useEffect)(function(){S().then(function(){return nc()})},[j]);var Z=(0,es.useMemo)(function(){return(0,e$.Ry)().shape({username:(0,e$.Vo)(function(e){return(0,eK.S)(a,e)}),password:(0,e$.Vo)(function(e){return(0,eX.m)(a,e)})})},[a]),E=(0,eE.cI)({mode:"all",resolver:(0,eR.X)(Z)}),L=E.control,q=E.formState,A=q.isDirty,R=q.isValid,T=q.isSubmitting,M=E.handleSubmit,I=E.trigger,Q=(0,es.useCallback)(function(e){var n=e.field,t=n.onBlur,r=n.onChange,o=n.value,a=e.fieldState,i=a.isTouched,s=a.invalid,l=a.error;return(0,ej.jsx)(eH.R,{error:l,invalid:s,isTouched:i,value:o,onChange:function(e){t(),r(e),I(nJ.Username)}})},[I]),D=ec()().serverRuntimeConfig,F=D.countryPhonePrefix,z=D.allowsPhoneLogin,N=D.friction,U=D.allowsResumeConfirmation,B=(0,es.useState)(""),V=B[0],H=B[1],G=(0,es.useState)([]),W=G[0],$=G[1],X=(0,es.useState)(!!V),K=X[0],J=X[1],Y=(0,eQ.XS)(),ee=Y.getToken,en=Y.isFrictionReady,et=(0,es.useState)(),er=et[0],eo=et[1],ea=e9.$.Email;(0,es.useEffect)(function(){J(!!V)},[V]);var ei=function(){(0,es.startTransition)(function(){""!=V&&H(""),W.length>0&&$([])})},eu=(n=(0,ek.Z)(ew().mark(function e(n,t,r){var o,a,l,u,c,d;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=r&&r.status===eQ.YF.Success?null==r?void 0:r.token:"",nl(np.S.Register),e.next=5,n1(n3(n3(n3({},i.query),n),{},{username:t}),o);case 5:return u=(l=(a=e.sent).code_delivery_details).channel,c=l.destination,d=a.username,(0,e3.uH)(e5.j.captchaSuccess,{ciam_user_identifier_type:ea}),s({pathname:"/register-notification",query:(0,eb.C)(n3({username:(0,e8.E)(d),channel:u.toUpperCase(),destination:c},i.query))}),e.abrupt("return");case 12:e.prev=12,e.t0=e.catch(0),ep(e.t0,n);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),function(e,t,r){return n.apply(this,arguments)}),eg=(t=(0,ek.Z)(ew().mark(function e(n,t){var r,o,s,l,u;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.status===eQ.YF.Failure&&(l=n3(n3({},t.failure),{},{error:null!==(r=t.failure)&&void 0!==r&&r.error?null===(o=t.failure.error)||void 0===o?void 0:o.message:""}),(null==t?void 0:t.status)===eQ.YF.Failure&&(null===(s=t.failure)||void 0===s?void 0:s.reason)===eQ.S9.Error&&(0,eF.Nd)(Error("Register Friction"),{error:l}),t.failure.reason==eQ.S9.Blocked&&ea.toUpperCase()===e9.$.Email?(u={support:function(e){return(0,ej.jsx)("a",{target:"_blank","data-testid":"friction-cs-flow",href:(0,eB.L)("letUsKnow"),rel:"noreferrer",onClick:function(){(0,e3.uH)(e5.j.redirectUserToCustomerSupportClick,{ciam_response:"suspicious_activity"})}},e)},challengeId:""!=to?"(".concat(to,")"):"(code missing)"},$(tr(a,i,n)),H(a.formatMessage(ex.P["register.error.friction.blocked"],u))):H(t.failure.message),(0,e3.uH)(e5.j.registrationError,{ciam_error_reason:"Friction: ".concat(l.reason),ciam_response:l.error,ciam_user_identifier_type:ea}));case 1:case"end":return e.stop()}},e)})),function(e,n){return t.apply(this,arguments)}),ef=(r=(0,ek.Z)(ew().mark(function e(n){var t,r,o,i,s,l,u,m;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k(!0),ei(),o=n.username,z&&!isNaN(+n.username)&&(o=F.concat(n.username),ea=e9.$.Sms),o=o.trim(),ea=ea.toLowerCase(),j||(0,e3.uH)(e5.j.registerClick,{ciam_user_identifier_type:ea}),(0,eF.qV)("ciam.username",null!==(t=null===(r=window)||void 0===r?void 0:r.btoa(o))&&void 0!==t?t:"--"),(0,eF.qV)("ciam.usernameType",ea),to="",N){e.next=14;break}(0,eF.qV)("registration.friction","disabled"),e.next=21;break;case 14:return s="registration.friction.getToken",l=a.formatMessage(ex.P["global.error.generic.friction"]),e.next=18,(0,ne.J)(o,ee,eo,s,l,eQ.an.Register);case 18:i=(u=e.sent).tokenResponse,to=u.frictionChallengeId;case 21:na.LS(ni.s.Registration,{client_id:c,code_challenge:d,code_challenge_method:g,redirect_uri:f,state:p},ni.O.OneDay),m=function(){return!N||i&&i.status===eQ.YF.Success?eu(n,o,i):N&&i?eg(o,i):Promise.resolve()},(0,es.startTransition)(function(){m().then(function(){return k(!1)})});case 24:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),ep=(o=(0,ek.Z)(ew().mark(function e(n,t){var r,o,s,l,u,c,d;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(r=n).error,s=r.error_description,l=r.request_id,u="register.error.",c={resetPassword:function(e){return $([tt(e,i,t.username)]),null},link:n7,termslink:te,requestId:l},!(U&&o===e4.g.UserConfirmationRequired)){e.next=9;break}return e.next=6,no(i,t.username,{frictionEnabled:N,frictionErrorMessage:a.formatMessage(ex.P["global.error.generic.friction"]),getToken:ee,setFrictionChallenge:eo});case 6:if(!e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:if(o!==nY.UserAlreadyExists&&o!==nY.UserIsBanned&&o!==nY.UserIsDeleted&&o!==nY.InvalidPhoneNumber&&o!==nY.NotAllowedPhoneNumber||t.username.includes("@")||(u+="phone."),u=Object.values(nY).includes(o)?u+eA()(o):"global.error.generic",o===nY.InvalidPassword&&(u="register.error.weakPassword"),o===nY.WafBlocked&&(u="global.error.wafBlocked"),o!==e4.g.DatadomeCheck){e.next=17;break}return d=n.datadome_challenge_type,eF.qV("register.datadomeChallengeType",d),e.abrupt("return",!1);case 17:o===e4.g.SecurityNotAllowed?H(a.formatMessage(ex.P["global.error.securityNotAllowed"],{link:function(e){return n7(e)},challengeId:s})):H(a.formatMessage(ex.P[u],c)),(0,eF.Nd)(Error("Register"),{error:n}),(0,e3.uH)(e5.j.registrationError,{ciam_error_reason:"CIAM: ".concat(o),ciam_response:s||"",ciam_user_identifier_type:ea});case 20:case"end":return e.stop()}},e)})),function(e,n){return o.apply(this,arguments)});return(0,ej.jsx)(eE.RV,E,C&&(0,ej.jsx)(ng.Z,null),(0,ej.jsx)(n9,{ref:y,noValidate:!0,"data-testid":"register-form",method:"post",onChange:ei,onSubmit:M(function(e){(0,es.startTransition)(function(){ef(e)})})},K&&(0,ej.jsx)(nf.H,{actions:W,onDismiss:function(){return H("")}},V),(0,ej.jsx)(eE.Qr,{control:L,name:nJ.Username,render:Q}),(0,ej.jsx)(n4,{"data-testid":"password-container"},(0,ej.jsx)(eE.Qr,{control:L,name:nJ.Password,render:function(e){var n=e.field,t=n.onBlur,r=n.onChange,o=n.value,a=e.fieldState,i=a.isTouched,s=a.invalid,l=a.error;return(0,ej.jsx)(es.Fragment,null,(0,ej.jsx)(eV.r,{error:l,invalid:s,isTouched:i,value:o,setValidations:h,onBlur:function(){return v(!0)},onChange:function(e){t(),r(e),I(nJ.Password)}}),(0,ej.jsx)(n2.F,{password:o,error:K||h,onSuccess:function(){return v(!0)}}))}})),(0,ej.jsx)(n6,null,er),(0,ej.jsx)(nK,null),(0,ej.jsx)(ta,{text:a.formatMessage(ex.P["register.button"]),disabled:A&&!R||!!er||!en,loading:T||b}),l&&(0,ej.jsx)(ns.ZP,{callback:function(){return _(!0)}})))},ts=t(4133),tl=t(28362),tu={name:"n6cwz5",styles:"path{fill:#fff!important;}"},tc=eh.Z.div(T||(T=(0,ei.Z)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n\n  ","\n"])),function(){return"OLX-dark"==ev.zw&&tu}),td=(0,eh.Z)(ts.Z)(M||(M=(0,ei.Z)(["\n  margin-right: ",";\n"])),function(e){return e.theme.space[10]}),tg=function(e){var n,t=e.idpBackTrackingEvent,r=(0,ed.useRouter)(),o=(n=(0,ek.Z)(ew().mark(function e(){var n,o;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=(0,ek.Z)(ew().mark(function e(){return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return nl(np.S.Apple),e.next=3,(0,nd.C)(r,tl.M.Apple);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),o="/"===r.pathname?e5.j.loginAppleClick:e5.j.registerAppleClick,t&&t(o),(0,eF.qV)("trackingEvent",o),(0,eF.fg)("Apple Button Click"),(0,e3.uH)(o),e.next=8,n();case 8:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,ej.jsx)(eT.zx,{id:np.S.Apple,"data-testid":"apple-button",variant:"secondary",onClick:function(){(0,es.startTransition)(function(){o()})}},(0,ej.jsx)(tc,null,(0,ej.jsx)(td,null),(0,ej.jsx)(eL.Z,ex.P["global.button.appleButton"])))},tf=t(407),tp={name:"1sj25lj",styles:"path[fill='#1877F2']{fill:#fff!important;}path[fill='#FFF']{fill:#000!important;}"},tm=eh.Z.div(I||(I=(0,ei.Z)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n\n  ","\n"])),function(){return"OLX-dark"==ev.zw&&tp}),th=(0,eh.Z)(tf.Z)(Q||(Q=(0,ei.Z)(["\n  margin-right: ",";\n"])),function(e){return e.theme.space[10]}),tv=function(e){var n,t=e.idpBackTrackingEvent,r=(0,ed.useRouter)(),o=(n=(0,ek.Z)(ew().mark(function e(){var n,o;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=(0,ek.Z)(ew().mark(function e(){return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return nl(np.S.Facebook),e.next=3,(0,nd.C)(r,tl.M.Facebook);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),o="/"===r.pathname?e5.j.loginFbClick:e5.j.registerFbClick,t&&t(o),(0,eF.qV)("trackingEvent",o),(0,eF.fg)("Facebook Button Click"),(0,e3.uH)(o),e.next=8,n();case 8:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,ej.jsx)(eT.zx,{id:np.S.Facebook,"data-testid":"facebook-button",variant:"secondary",onClick:function(){(0,es.startTransition)(function(){o()})}},(0,ej.jsx)(tm,null,(0,ej.jsx)(th,null),(0,ej.jsx)(eL.Z,ex.P["global.button.facebookButton"])))},tx=t(29022),tb={name:"n6cwz5",styles:"path{fill:#fff!important;}"},tk=eh.Z.div(D||(D=(0,ei.Z)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n\n  ","\n"])),function(){return"OLX-dark"==ev.zw&&tb}),ty=(0,eh.Z)(tx.Z)(F||(F=(0,ei.Z)(["\n  margin-right: ",";\n"])),function(e){return e.theme.space[10]}),tw=function(e){var n,t=e.idpBackTrackingEvent,r=(0,ed.useRouter)(),o=(n=(0,ek.Z)(ew().mark(function e(){var n,o;return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=(0,ek.Z)(ew().mark(function e(){return ew().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return nl(np.S.Google),e.next=3,(0,nd.C)(r,tl.M.Google);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),o="/"===r.pathname?e5.j.loginGmailClick:e5.j.registerGmailClick,t&&t(o),(0,eF.qV)("trackingEvent",o),(0,eF.fg)("Google Button Click"),(0,e3.uH)(o),e.next=8,n();case 8:case"end":return e.stop()}},e)})),function(){return n.apply(this,arguments)});return(0,ej.jsx)(eT.zx,{id:np.S.Google,"data-testid":"google-button",variant:"secondary",onClick:function(){(0,es.startTransition)(function(){o()})}},(0,ej.jsx)(tk,null,(0,ej.jsx)(ty,null),(0,ej.jsx)(eL.Z,ex.P["global.button.googleButton"])))},tj=t(55478),t_="IDPBackButton",tP="idpBackButtonTracking",tC=function(){var e=function(e){try{var n;null===(n=sessionStorage)||void 0===n||n.setItem(t_,JSON.stringify(e))}catch(e){(0,eF.fg)(tP,{method:"setItem",type:"sessionStorage",error:null==e?void 0:e.toString()})}},n=function(){try{var e,n=null===(e=sessionStorage)||void 0===e?void 0:e.getItem(t_),r=Date.now()/1e3-1800,o=n&&JSON.parse(n);if(o&&(null==o?void 0:o.back_provider_time)>=r)return o;t();return}catch(e){(0,eF.fg)(tP,{method:"getItem",type:"sessionStorage",error:null==e?void 0:e.toString()})}},t=function(){var e;null===(e=sessionStorage)||void 0===e||e.removeItem(t_)};return{set:function(n){e({back_provider_source:n,back_provider_time:Date.now()/1e3})},track:function(){try{if((0,tj.j)()){var e=n();if(null!=e&&e.back_provider_time){var r,o,a,i,s,l=null!==(r=null===(o=performance)||void 0===o?void 0:o.getEntriesByType("navigation"))&&void 0!==r?r:[],u=l.length&&"back_forward"===String(null===(a=l[0])||void 0===a?void 0:a.type),c=null!==(i=null===(s=document)||void 0===s?void 0:s.referrer.includes("facebook"))&&void 0!==i&&i;if(u||c){var d={back_provider_source:String(null==e?void 0:e.back_provider_source),back_provider_time:String(null==e?void 0:e.back_provider_time),ciam_response:u?"Browser Back":"Facebook redirect"};(0,e3.uH)(e5.j.ciamBackBehavior,(0,eb.C)(d)),t()}}}}catch(e){(0,eF.fg)(tP,{method:"trackBackEvent",type:"sessionStorage",error:null==e?void 0:e.toString()})}}}},tO=eh.Z.div(z||(z=(0,ei.Z)(["\n  margin-top: ",";\n  display: flex;\n  flex-direction: column;\n  margin: -",";\n\n  & > button {\n    padding: ",";\n    margin: ",";\n    outline: 0;\n  }\n"])),function(e){return e.theme.space[16]},function(e){return e.theme.space[10]},function(e){return e.theme.space[12]},function(e){return e.theme.space[8]}),tS=function(){var e=tC();(0,es.useEffect)(function(){e.track()},[e]);var n=(0,es.useCallback)(function(n){e.set(n)},[e]);return(0,ej.jsx)(tO,null,!eN("hide-facebook-idp-button")&&(0,ej.jsx)(tv,{idpBackTrackingEvent:n}),!eN("hide-apple-idp-button")&&(0,ej.jsx)(tg,{idpBackTrackingEvent:n}),!eN("hide-google-idp-button")&&(0,ej.jsx)(tw,{idpBackTrackingEvent:n}))},tZ=t(15945),tE=t(14610),tL=eh.Z.div(N||(N=(0,ei.Z)(["\n  text-align: center;\n\n  ","\n"])),function(e){var n=e.theme;return"@media only screen and ".concat(n.mediaQueries.md," {\n    width: 100%;\n    padding: 0;\n  }\n  @media only screen and ").concat(n.mediaQueries.mdMin," {\n	  width: 100vw;\n	  max-width: 400px;\n  }")}),tq=eh.Z.div(U||(U=(0,ei.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: "," ",";\n  padding-bottom: 0;\n\n  h3 {\n    text-align: center;\n    align-items: baseline;\n    line-height: 130%;\n    max-width: 300px;\n\n    div {\n      width: max-content;\n      cursor: pointer;\n      display: inline;\n    }\n\n    svg {\n      vertical-align: bottom;\n      margin-bottom: 5px;\n    }\n  }\n\n  ","\n"])),function(e){return e.theme.space[24]},function(e){return e.theme.space[32]},function(e){var n=e.theme;return"\n    @media only screen and ".concat(n.mediaQueries.md," { \n      width: 100%;\n      padding: ").concat(n.space[24]," ").concat(n.space[16],";\n      padding-bottom: 0;\n      align-items: center;\n      max-width: auto;\n    }\n  ")}),tA=((d={}).SST_PRD="3mt7m4nos0mut9at06q5imm7vt",d.SST_STG="18c7e73ajh207vkpcporskk2ns",d),tR=((g={}).Desktop="right",g.Mobile="bottom",g),tT={name:"xwpfh8",styles:"[id^='tippy-']{height:auto!important;}"},tM=function(e){var n=e.isMobile,t=e.title,r=e.tooltip;return(0,ej.jsx)(es.Fragment,null,(0,ej.jsx)(ej.Global,{styles:tT}),(0,ej.jsx)(tL,{className:"sst_wrapper"},(0,ej.jsx)(tq,null,(0,ej.jsx)(eM.H3,{variant:"bold"},t," ",(0,ej.jsx)(tE.u,{content:r,placement:n?tR.Mobile:tR.Desktop},(0,ej.jsx)(tZ.ZcR,null))))))},tI={FAVOURITES:"favourites",SEARCH:"search"},tQ=eh.Z.div(B||(B=(0,ei.Z)(["\n  ","\n"])),function(e){var n=e.theme;return"\n    max-width: 428px;\n    margin: 0 auto;\n    @media ".concat(n.mediaQueries.md," {\n      width: 100%;\n      padding: 0;\n    }\n    text-align: center;\n  ")}),tD=(0,eh.Z)(eM.P2)(V||(V=(0,ei.Z)(["\n  ",";\n"])),function(e){var n=e.theme;return"margin-top: ".concat(n.space[16])}),tF=function(e){var n=e.customLabel;return n?(0,ej.jsx)(tQ,{"data-testid":"motors-custom-wrapper"},(0,ej.jsx)(eM.H3,null,(0,ej.jsx)(eL.Z,ex.P["motors.".concat(n,".mainpage.title")])),(0,ej.jsx)(tD,null,(0,ej.jsx)(eL.Z,ex.P["motors.".concat(n,".mainpage.subtitle")]))):null},tz={MAIN:"main",HISTORY:"ad_history",SAVE:"save_ad",SEARCH:"save_search"},tN=(H={},(0,eZ.Z)(H,nO.Q.Otodom,"Otodom"),(0,eZ.Z)(H,nO.Q.Imovirtual,"Imovirtual"),(0,eZ.Z)(H,nO.Q.Storia,"Storia"),H),tU=eh.Z.div(G||(G=(0,ei.Z)(["\n  ","\n"])),function(e){var n=e.theme;return"\n    max-width: 428px;\n    margin: 0 auto;\n    @media ".concat(n.mediaQueries.md," {\n      width: 100%;\n      padding: 0;\n    }\n    text-align: center;\n  ")}),tB=(0,eh.Z)(eM.H3)(W||(W=(0,ei.Z)(["\n  wordwrap: 'break-word';\n\n  & > span {\n    wordwrap: 'break-word';\n    ",";\n  }\n"])),function(e){var n=e.theme;return"color: ".concat(n.colors["text-brand-highlight"])}),tV=(0,eh.Z)(eM.P3)($||($=(0,ei.Z)(["\n  ",";\n"])),function(e){var n=e.theme;return"margin-top: ".concat(n.space[16])}),tH=function(e){return(0,ej.jsx)("span",null,e)},tG=function(e){var n=e.customLabel,t=e.siteCode;return n?(0,ej.jsx)(tU,{"data-testid":"realestate-custom-wrapper"},(0,ej.jsx)(tB,{variant:"bold"},(0,ej.jsx)(eL.Z,(0,eS.Z)({},ex.P["realestate.".concat(n,".mainpage.title")],{values:{span:tH,brand:tN[t]}}))),(0,ej.jsx)(tV,null,(0,ej.jsx)(eL.Z,ex.P["realestate.".concat(n,".mainpage.subtitle")]))):null},tW=t(52483),t$=(0,eh.Z)(ep.W2)(X||(X=(0,ei.Z)(["\n  margin: 0;\n  padding: 0;\n  width: 100%;\n"]))),tX=(0,eh.Z)(eM.H1)(K||(K=(0,ei.Z)(["\n  ","\n"])),function(e){var n=e.theme;return"@media only screen and ".concat(n.mediaQueries.mdMin," {\n    display:none;\n  }")}),tK=(0,eh.Z)(eM.H1)(J||(J=(0,ei.Z)(["\n  margin: 16px 0 32px 0;\n  padding-bottom: 30px;\n  ","\n"])),function(e){var n=e.theme;return"@media only screen and ".concat(n.mediaQueries.smMin," {\n    margin-left: -100%;\n    margin-right: -100%;\n    text-align: center;\n    white-space: nowrap;\n  }")}),tJ=function(e,n,t,r,o){var a,i,s,l;if((0,ez.Ag)(e))return e==nO.Q.OlxPl&&(tA.SST_PRD===n||tA.SST_STG===n)?(0,ej.jsx)(tM,{isMobile:(0,ev.Eh)(),title:o.formatMessage(null!=t&&t.endsWith("/")?ex.P["sstCustomMessage.title.login"]:ex.P["sstCustomMessage.title.register"]),tooltip:o.formatMessage(ex.P["sstCustomMessage.tooltip"])}):(0,ej.jsx)(tX,null,(0,ej.jsx)(eL.Z,ex.P["mainPage.welcomeMessage"]));return(0,ez.aU)(e)?(a=r,i=t,[eD.A.Login,eD.A.Register].includes(i)&&Object.values(tI).includes(a))?(0,ej.jsx)(tF,{customLabel:r}):(0,ej.jsx)(tK,null,(0,ej.jsx)(eL.Z,ex.P["mainPage.welcomeMessage"])):(0,ez.p_)(e)&&(s=r,l=t,[eD.A.Login,eD.A.Register].includes(l)&&Object.values(tz).includes(s))?(0,ej.jsx)(tG,{customLabel:r,siteCode:e}):null},tY=function(e){var n=e.siteCode,t=e.clientId,r=(0,ed.useRouter)(),o=(0,el.Z)(),a=r.query,i=r.pathname,s=(a||{}).ac,l=void 0===s?"":s,u=(0,es.useMemo)(function(){return(0,tW.N)(l)},[l]),c=(0,es.useMemo)(function(){return tJ(n,t,i,u,o)},[n,t,i,u,o]);return c?(0,ej.jsx)(t$,null,c):null},t0=(0,eh.Z)(ep.W2)(Y||(Y=(0,ei.Z)(["\n  margin: 0;\n  ","\n"])),function(e){var n=e.theme;return"@media only screen and ".concat(n.mediaQueries.md," {\n    margin: 0;\n    padding-top: 16px;\n  }")}),t1=eh.Z.div(ee||(ee=(0,ei.Z)(["\n  ","\n  &.sst {\n    border-radius: 0 0 4px 4px;\n  }\n"])),function(e){var n=e.theme;return"@media only screen and ".concat(n.mediaQueries.mdMin," {\n      max-width: 400px;\n      display: inline-block;\n      width: 100vw;\n      align-self: center;\n      margin-bottom: 26px;\n      z-index: 1;\n      background-color: ").concat(n.colors["background-global-primary"],";\n      border-radius: 4px;\n    }")}),t2=eh.Z.div(en||(en=(0,ei.Z)(["\n  margin-top: ",";\n  ","\n"])),ev.Lu.space.md,function(e){var n=e.theme;return"@media only screen and ".concat(n.mediaQueries.mdMin," {\n    padding: 0 32px; \n  }")}),t5=(0,eh.Z)(eg.i)(et||(et=(0,ei.Z)(["\n  margin-top: ",";\n"])),ev.Lu.space.sm),t3=(0,eh.Z)(em.TZ)(er||(er=(0,ei.Z)(["\n  > div > header > button {\n    width: 50%;\n    outline: 0;\n  }\n\n  div:nth-of-type(2) {\n    padding: 0;\n  }\n"]))),t9=eh.Z.div(eo||(eo=(0,ei.Z)(["\n  display: flex;\n  flex-direction: column;\n  ","\n"])),function(e){var n=e.theme;return"@media only screen and ".concat(n.mediaQueries.mdMin," { padding: 0 32px; }")}),t4=eh.Z.div(ea||(ea=(0,ei.Z)(["\n  margin-top: ",";\n"])),ev.Lu.space.sm),t6=function(){var e,n,t,r=(0,ed.useRouter)(),o=(0,el.Z)(),a=(0,eb.C)(r.query),i=a.back_button,s=a.client_id,l=ec()(),u=l.serverRuntimeConfig,c=l.isMobile,d=u.domainShort,g=u.siteCode,f=(0,ej.jsx)("a",{"data-testid":"back-button",href:"olxauth://".concat(d,"/close"),rel:"noopener noreferrer",target:"_blank"},(0,ej.jsx)(ef.default,null));return(0,ej.jsx)("div",{className:"login-page"},(0,ej.jsx)(eO.A,null,(0,ej.jsx)(t0,{className:"page-header-wrapper"},(0,ej.jsx)(eC.m,{backButton:f,showBackButton:!!i})),(0,ej.jsx)(t1,{className:"login-box"},(0,es.useMemo)(function(){return(0,ej.jsx)(tY,{siteCode:g,clientId:s})},[g,s]),(0,ej.jsx)(t2,null,(0,ej.jsx)(tS,null),(0,ej.jsx)(t5,{"data-testid":"or-separator",label:null!==(e=null==o?void 0:o.messages["global.or"])&&void 0!==e?e:"",variant:"primary-muted"})),(0,ej.jsx)(t9,null,(0,ej.jsx)(t3,{dataAttributes:{testid:"tabs"},initialOpenTabName:null!=r&&null!==(n=r.pathname)&&void 0!==n&&n.endsWith("/register")?o.formatMessage(ex.P["global.createAccount"]):o.formatMessage(ex.P["global.logIn"]),onTabChange:function(){(0,es.startTransition)(function(){r.push({pathname:r.pathname===eD.A.Login?eD.A.Register:eD.A.Login,query:(0,eb.C)(r.query)},void 0,{shallow:!0})})}},(0,ej.jsx)(em.OK,{name:o.formatMessage(ex.P["global.logIn"])}),(0,ej.jsx)(em.OK,{name:o.formatMessage(ex.P["global.createAccount"])})),(0,ej.jsx)(t4,null,null!=r&&null!==(t=r.pathname)&&void 0!==t&&t.endsWith("/register")?(0,ej.jsx)(ti,null):(0,ej.jsx)(nC,null)))),!c&&u.baxterAds&&(0,ej.jsx)(eP,null)))}},84229:function(e,n,t){var r,o,a=t(71383),i=t(86019),s=t(59893);t(67294);var l=t(70917),u=i.Z.div(r||(r=(0,a.Z)(["\n  z-index: 1000;\n  position: fixed;\n  background-color: ",";\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  opacity: 0.8;\n"])),function(e){return e.theme.colors["background-global-inverse"]}),c=(0,i.Z)(s.default)(o||(o=(0,a.Z)(["\n  z-index: 1001;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])));n.Z=function(){return(0,l.jsx)(u,{"data-testid":"ciam-loader-background"},(0,l.jsx)(c,{borderColor:"background-global-primary","data-testid":"ciam-loader"}))}},26731:function(e,n,t){t.d(n,{R:function(){return v}});var r,o=t(71383),a=t(86896),i=t(11752),s=t.n(i),l=t(64533),u=t(49160),c=t(86019),d=t(68907),g=t(60361),f=t(69872),p=t(48546),m=t(70917),h=c.Z.div(r||(r=(0,o.Z)(["\n  & > div {\n    width: 100%;\n\n    label {\n      cursor: auto;\n      font-size: ",";\n      margin-bottom: ",";\n    }\n  }\n"])),function(e){return e.theme.fontSizes[14]},d.Lu.sizes.xs),v=function(e){var n=e.error,t=e.isTouched,r=e.invalid,o=e.label,i=e.onChange,c=e.value,d=(0,a.Z)().formatMessage,v=s()().serverRuntimeConfig,x=v.countryPhonePrefix,b=v.allowsPhoneLogin,k=d(b?g.P["global.emailOrPhone"]:g.P["global.email"]),y=""!=c&&!isNaN(+c);return(0,m.jsx)(h,null,(0,m.jsx)(l.NI,{error:null==n?void 0:n.message,inputComponent:u.oi,inputProps:{onChange:i,prefix:b&&y?x:"",value:c,id:"username",type:"email",validationStatus:(0,p.a)(c,t,r),name:f.n.Username},label:null!=o?o:k}))}},55941:function(e,n,t){t.d(n,{$:function(){return o}});var r,o=((r={}).IDPAccessDeniedFacebook="idp_access_denied_facebook",r.IDPAccessDeniedGoogle="idp_access_denied_google",r.IDPAccessDeniedSignInWithApple="idp_access_denied_signinwithapple",r.IDPEmailRequiredFacebook="idp_email_required_facebook",r.IDPEmailRequiredGoogle="idp_email_required_google",r.IDPEmailRequiredSignInWithApple="idp_email_required_signinwithapple",r.IDPFetch="idp_fetch_error",r.IDPUserAlreadyExists="idp_user_already_exists",r.IDPUserAlreadyExistsApple="idp_user_already_exists_apple",r.IDPUserAlreadyExistsFacebook="idp_user_already_exists_facebook",r.IDPUserAlreadyExistsGoogle="idp_user_already_exists_google",r.IDPUsernameTokenExpired="idp_username_token_expired",r.IDPWafBlock="idp_waf_blocked",r.UserBlacklisted="user_blacklisted",r.UserDisabled="user_disabled",r.UserInvalid="user_invalid",r.UserIsBanned="user_is_banned",r.UserIsDeleted="user_is_deleted",r.UserNotFound="user_not_found",r.UserSuspiciousActivity="user_suspicious_activity",r)},29723:function(e,n,t){t.d(n,{t:function(){return o}});var r,o=((r={}).Desktop="desktop",r.Mobile="mobile-html5",r)},28362:function(e,n,t){t.d(n,{M:function(){return i},R:function(){return s}});var r,o,a=t(59499),i=((r={}).Apple="SignInWithApple",r.Facebook="Facebook",r.Google="Google",r),s=(o={},(0,a.Z)(o,i.Apple,"Apple"),(0,a.Z)(o,i.Facebook,"Facebook"),(0,a.Z)(o,i.Google,"Google"),o)},81300:function(e,n,t){t.d(n,{C:function(){return k}});var r,o=t(59499),a=t(50029),i=t(64687),s=t.n(i),l=t(11752),u=t.n(l),c=t(34047),d=t(59299),g=t(6611),f=t(20635),p=t(86435),m=t(81228),h=t(20239),v=t(29723);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach(function(n){(0,o.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var k=(r=(0,a.Z)(s().mark(function e(n,t){var r,o,i,l,x,k,y,w,j,_,P,C,O,S,Z,E,L,q;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=u()().publicRuntimeConfig.authHost,o="https://".concat(r),i="".concat(r?o:"","/api/idp-login"),l=u()().isMobile,k=(x=(0,g.C)(n.query)).client_id,y=x.redirect_uri,w=x.code_challenge,j=x.code_challenge_method,_=x.st,P=x.state,C=new URLSearchParams(b({identity_provider:t,platform:l?v.t.Mobile:v.t.Desktop},(0,g.C)({client_id:k,redirect_uri:y,code_challenge:w,code_challenge_method:j,st:_,state:P}))),O=function(e,n,t){e.replace({pathname:"/",query:(0,g.C)(b(b({},e.query),{},{error:n,request_id:t}))}).then(function(){return e.reload()})},(0,c.qV)("idp.socialProvider",t),(0,c.qV)("idp.wafTokenTimestamp",(0,p.S2)()),S=function(){var e=(0,a.Z)(s().mark(function e(){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,d.O)("".concat(i,"?").concat(C),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(){var e=(0,a.Z)(s().mark(function e(n){var t,r;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.headers.get("content-type"))&&!t.includes("application/json"))){e.next=5;break}if(!n.headers.get("x-dd-b")){e.next=4;break}return e.abrupt("return",(0,h.u)(n));case 4:return e.abrupt("return",(0,m.u)(n));case 5:return e.next=7,n.json();case 7:if(r=e.sent,!(!n.ok||!r.location)){e.next=10;break}return e.abrupt("return",Promise.reject(r));case 10:return e.abrupt("return",Promise.resolve(r.location));case 11:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.prev=10,e.next=13,S();case 13:return Z=e.sent,(0,c.qV)("idp.wafCookie",String((0,p.GU)())),(0,c.fg)("Redirect to IDP"),e.next=18,n.push(Z);case 18:e.next=26;break;case 20:e.prev=20,e.t0=e.catch(10),E=e.t0,L=function(){if(E.error===f.g.DatadomeCheck){(0,c.Nd)(Error("DataDome Captcha"));return}E.error===f.g.WafBlocked?((0,c.Nd)(Error("IDP WAF blocked")),O(n,E.error,E.request_id)):((0,c.Nd)(Error(E.error_description)),O(n,E.error))},q=function(){E.message?(0,c.Nd)(Error(E.message)):(0,c.Nd)(Error("Something went wrong")),O(n,"idp_something_went_wrong")},E.error?L():q();case 26:case"end":return e.stop()}},e,null,[[10,20]])})),function(e,n){return r.apply(this,arguments)})},61683:function(e,n,t){t.d(n,{S:function(){return o}});var r,o=((r={}).Apple="SignInWithApple",r.Facebook="Facebook",r.ForgotPassword="Forgot Password",r.Google="Google",r.Login="Login",r.Register="Register",r.Unknown="Unknown",r)},73115:function(e,n,t){t.d(n,{S:function(){return l}});var r=t(11752),o=t.n(r),a=t(7258),i=t(60361),s=/^\d+$/,l=function(e,n){var t=e.formatMessage,r=o()().serverRuntimeConfig,l=r.allowsPhoneLogin,u=r.phoneNumberLength,c=t(l?i.P["validation.missingEmailOrPhone"]:i.P["validation.missingEmail"]);if(!(l&&s.test(n)))return a.Z_().required(c).trim().email(t(i.P["validation.invalidEmail"])).max(128);var d=t(i.P["validation.invalidPhoneNumber"]);return a.Z_().required(c).length(u,d)}},83963:function(e,n,t){var r,o,a=t(67294),i=t(11163),s=t(45960),l=t(91307),u=t(8199),c=t(61683),d=((r={}).CaptchaDisplayed="dd_response_displayed",r.CaptchaFailed="dd_response_error",r.CaptchaPassed="dd_response_passed",r.Error="dd_response_unload",r),g=((o={}).Block="hardblock",o.Captcha="captcha",o.DeviceCheck="deviceCheck",o);n.ZP=function(e){var n=e.callback,t=(0,i.useRouter)(),r=(0,a.useCallback)(function(e,t){return function(r){var o,a=String(null!==(o=u.rV("lastAction"))&&void 0!==o?o:c.S.Unknown);if(e===d.CaptchaDisplayed){var i=r.detail;switch(null==i?void 0:i.responseType){case g.DeviceCheck:case g.Captcha:(0,s.uH)(l.j.vendorCaptchaDisplayed,{ciam_result:a});break;case g.Block:(0,s.uH)(l.j.vendorCaptchaBlocked,{ciam_result:a})}}else t&&(0,s.uH)(t,{ciam_result:a});e===d.CaptchaPassed&&n&&n()}},[n]);return(0,a.useEffect)(function(){var e,n=r(d.CaptchaDisplayed),o=r(d.CaptchaFailed,l.j.vendorCaptchaFailed),a=r(d.CaptchaPassed,l.j.vendorCaptchaSuccess),i=function(){window.removeEventListener(d.CaptchaDisplayed,n),window.removeEventListener(d.CaptchaFailed,o),window.removeEventListener(d.CaptchaPassed,a)};return window.addEventListener(d.CaptchaDisplayed,n),window.addEventListener(d.CaptchaFailed,o),window.addEventListener(d.CaptchaPassed,a),null===(e=t.events)||void 0===e||e.on("routeChangeStart",i),function(){var e;i(),null===(e=t.events)||void 0===e||e.off("routeChangeStart",i)}},[r,t.events]),null}},65303:function(e,n,t){t.d(n,{O:function(){return i},s:function(){return a}});var r,o,a=((r={}).ForgotPassword="Zm9yZ290LXBhc3N3b3Jk",r.HighRiskLogin="aGlnaC1yaXNrLWxvZ2lu",r.Registration="cmVnaXN0cmF0aW9u",r),i=((o={})[o.OneSecond=1e3]="OneSecond",o[o.OneMinute=6e4]="OneMinute",o[o.OneHour=36e5]="OneHour",o[o.OneDay=864e5]="OneDay",o)},84215:function(e,n,t){t.d(n,{Z:function(){return f},c:function(){return g}});var r=t(59499),o=t(11752),a=t.n(o),i=t(60435),s=t(51586);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){(0,r.Z)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var c=s.Q.OlxPl,d=function(e,n){var t=e.split(":")[0],r={"pt.staging.login.olx.com":s.Q.OlxPt,"login.pt.stg.eu.olx.org":s.Q.OlxPt,"pt.login.olx.com":s.Q.OlxPt,"login.olx.pt":s.Q.OlxPt,"pl.staging.login.olx.com":s.Q.OlxPl,"login.pl.stg.eu.olx.org":s.Q.OlxPl,"pl.login.olx.com":s.Q.OlxPl,"login.olx.pl":s.Q.OlxPl,"bg.staging.login.olx.com":s.Q.OlxBg,"login.bg.stg.eu.olx.org":s.Q.OlxBg,"bg.login.olx.com":s.Q.OlxBg,"login.olx.bg":s.Q.OlxBg,"ro.staging.login.olx.com":s.Q.OlxRo,"login.ro.stg.eu.olx.org":s.Q.OlxRo,"ro.login.olx.com":s.Q.OlxRo,"login.olx.ro":s.Q.OlxRo,"ua.staging.login.olx.com":s.Q.OlxUa,"login.ua.stg.eu.olx.org":s.Q.OlxUa,"ua.login.olx.com":s.Q.OlxUa,"login.olx.ua":s.Q.OlxUa,"kz.staging.login.olx.com":s.Q.OlxKz,"login.kz.stg.eu.olx.org":s.Q.OlxKz,"kz.login.olx.com":s.Q.OlxKz,"login.olx.kz":s.Q.OlxKz,"uz.staging.login.olx.com":s.Q.OlxUz,"login.uz.stg.eu.olx.org":s.Q.OlxUz,"uz.login.olx.com":s.Q.OlxUz,"login.olx.uz":s.Q.OlxUz,"login.stg.otomoto.pl":s.Q.Otomoto,"login.otomoto.pl":s.Q.Otomoto,"login.stg.standvirtual.com":s.Q.CarsPt,"login.standvirtual.com":s.Q.CarsPt,"login.stg.autovit.ro":s.Q.Autovit,"login.autovit.ro":s.Q.Autovit,"login.stg.imovirtual.com":s.Q.Imovirtual,"login.imovirtual.com":s.Q.Imovirtual,"login.stg.otodom.pl":s.Q.Otodom,"login.otodom.pl":s.Q.Otodom,"login.stg.storia.ro":s.Q.Storia,"login.storia.ro":s.Q.Storia,"login.stg.otodom.ua":s.Q.OtodomUa,"login.otodom.ua":s.Q.OtodomUa};if("development"===n){var o={"pt.login.local":s.Q.OlxPt,"pl.login.local":s.Q.OlxPl,"bg.login.local":s.Q.OlxBg,"ro.login.local":s.Q.OlxRo,"ua.login.local":s.Q.OlxUa,"kz.login.local":s.Q.OlxKz,"uz.login.local":s.Q.OlxUz,"otomoto.login.local":s.Q.Otomoto,"standvirtual.login.local":s.Q.CarsPt,"autovit.login.local":s.Q.Autovit,"imovirtual.login.local":s.Q.Imovirtual,"otodom.login.local":s.Q.Otodom,"storia.login.local":s.Q.Storia,"otodomua.login.local":s.Q.OtodomUa};if(o[t])return o[t]}return r[t]?r[t]:c},g=function(e,n){var t=null!=n?n:a()().serverRuntimeConfig;if("string"!=typeof e)return null==t?void 0:t.locale;var r="oz"===e?"uz":e;return t.localesAllowed.includes(r)?r:t.locale},f=function(e,n,t){var r=d(e,t),o=i.y[r],a=g(n,o);return u(u({},o),{},{locale:a})}},8199:function(e,n,t){t.d(n,{LS:function(){return c},cl:function(){return d},rV:function(){return u}});var r=t(34047),o=Number.MAX_VALUE,a="localStorageWithExpiry",i=function(e){try{return localStorage.getItem(e)}catch(e){(0,r.fg)(a,{method:"_getItem",type:"localStorage",error:null==e?void 0:e.toString()})}return null},s=function(e,n){try{return localStorage.setItem(e,n)}catch(e){(0,r.fg)(a,{method:"_setItem",type:"localStorage",error:null==e?void 0:e.toString()})}},l=function(e){try{localStorage.removeItem(e)}catch(e){(0,r.fg)(a,{method:"_removeItem",type:"localStorage",error:null==e?void 0:e.toString()})}},u=function(e){var n=i(e);if(!n)return null;try{var t=JSON.parse(n);if(new Date().getTime()>t.expiry)return l(e),null;return t.value}catch(e){(0,r.fg)(a,{method:"getItem parse",type:"localStorage",error:null==e?void 0:e.toString()})}return null},c=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;s(e,JSON.stringify({value:n,expiry:new Date().getTime()+t}))},d=function(e){return l(e)}}}]);
//# sourceMappingURL=993-84a1f8a3a9ec7308.js.map